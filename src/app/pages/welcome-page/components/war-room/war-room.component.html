<div class="wrapper">

  <h2 class="title">Your War Room</h2>

  <section class="war-room-header">
    <tnm-war-room-header></tnm-war-room-header>
  </section>

  <section class="tanks-wrapper">
    <h3 class="sub-title">Tanks:</h3>
    <div class="tanks-container">
      <div class="tanks-list">
        @for (tank of tanks(); track $index) {
          @if (game()?.tanks?.length) {
            @if ($index < game().tanks.length) {
              <tnm-game-item-btn
                class="tank-btn rotate"
                [iconSrc1]="tank.body.path"
                [iconSrc2]="tank.head.path"
                [name]="tank.name"
                [focused]="tank.chosenAsPlayer"
                [rotate]="270">
              </tnm-game-item-btn>
            } @else if ($index === game().tanks.length) {
              <tnm-game-item-btn
                class="tank-btn rotate"
                [iconSrc1]="tank.body.path"
                [iconSrc2]="tank.head.path"
                [priced]="true"
                [rotate]="270">
              </tnm-game-item-btn>
            } @else {
              <tnm-game-item-btn
                class="tank-btn rotate"
                [iconSrc1]="tank.body.path"
                [iconSrc2]="tank.head.path"
                [blocked]="true"
                [rotate]="270">
              </tnm-game-item-btn>
            }
          }
        }
      </div>
    </div>
    <tnm-tank-settings></tnm-tank-settings>
  </section>

  <h3 class="sub-title">Battles:</h3>

  <section class="statistics-wrapper">
    @if (battles().length) {
      <tnm-battles-table [battles]="battles()"></tnm-battles-table>
    } @else {
      <strong class="empty-statistics">No battle stats yet â€” join a game to get started!</strong>
    }
  </section>
</div>
